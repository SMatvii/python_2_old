import sqlite3
import bcrypt
from datetime import datetime, timedelta

def create_demo_data():
    conn = sqlite3.connect('school_schedule.db')
    cursor = conn.cursor()
    
    demo_users = [
        ('admin', 'admin@school.com', 'admin123', 'admin'),
        ('teacher', 'teacher@school.com', 'teacher123', 'teacher'),
        ('student', 'student@school.com', 'student123', 'student'),
        ('ivan_petrov', 'ivan@school.com', 'password123', 'student'),
        ('maria_kovalenko', 'maria@school.com', 'password123', 'student'),
    ]
    
    print("–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–µ–º–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤...")
    for username, email, password, role in demo_users:
        password_hash = bcrypt.hashpw(password.encode('utf-8'), bcrypt.gensalt())
        
        try:
            cursor.execute(
                'INSERT INTO users (username, email, password_hash, role) VALUES (?, ?, ?, ?)',
                (username, email, password_hash, role)
            )
            print(f"‚úì –°—Ç–≤–æ—Ä–µ–Ω–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞: {username} ({role})")
        except sqlite3.IntegrityError:
            print(f"‚ö† –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á {username} –≤–∂–µ —ñ—Å–Ω—É—î")
    
    demo_lessons = [
        ('–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–Ü–≤–∞–Ω–æ–≤–∞ –û.–ü.', '201', '–ü–æ–Ω–µ–¥—ñ–ª–æ–∫', '08:00', '09:35'),
        ('–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º–æ–≤–∞', '–ü–µ—Ç—Ä–µ–Ω–∫–æ –ú.–Ü.', '105', '–ü–æ–Ω–µ–¥—ñ–ª–æ–∫', '09:50', '11:25'),
        ('–§—ñ–∑–∏–∫–∞', '–°–∏–¥–æ—Ä–æ–≤ –í.–ê.', '301', '–ü–æ–Ω–µ–¥—ñ–ª–æ–∫', '11:40', '13:15'),
        ('–ê–Ω–≥–ª—ñ–π—Å—å–∫–∞ –º–æ–≤–∞', 'Brown J.', '108', '–ü–æ–Ω–µ–¥—ñ–ª–æ–∫', '14:00', '15:35'),
        
        ('–•—ñ–º—ñ—è', '–ö–æ–≤–∞–ª—å—á—É–∫ –ù.–í.', '302', '–í—ñ–≤—Ç–æ—Ä–æ–∫', '08:00', '09:35'),
        ('–Ü—Å—Ç–æ—Ä—ñ—è', '–ú–µ–ª—å–Ω–∏–∫ –¢.–°.', '203', '–í—ñ–≤—Ç–æ—Ä–æ–∫', '09:50', '11:25'),
        ('–ì–µ–æ–≥—Ä–∞—Ñ—ñ—è', '–®–µ–≤—á–µ–Ω–∫–æ –ê.–ú.', '204', '–í—ñ–≤—Ç–æ—Ä–æ–∫', '11:40', '13:15'),
        ('–§—ñ–∑–∫—É–ª—å—Ç—É—Ä–∞', '–†—É–¥–µ–Ω–∫–æ –°.–û.', '–°–ø–æ—Ä—Ç–∑–∞–ª', '–í—ñ–≤—Ç–æ—Ä–æ–∫', '14:00', '15:35'),
        
        ('–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–Ü–≤–∞–Ω–æ–≤–∞ –û.–ü.', '201', '–°–µ—Ä–µ–¥–∞', '08:00', '09:35'),
        ('–ë—ñ–æ–ª–æ–≥—ñ—è', '–ö–æ–≤–∞–ª–µ–Ω–∫–æ –õ.–ü.', '303', '–°–µ—Ä–µ–¥–∞', '09:50', '11:25'),
        ('–Ü–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞', '–¢–∞—Ä–∞—Å–µ–Ω–∫–æ –î.–í.', '401', '–°–µ—Ä–µ–¥–∞', '11:40', '13:15'),
        ('–ú–∏—Å—Ç–µ—Ü—Ç–≤–æ', '–í–æ–ª–∫–æ–≤–∞ –ö.–û.', '110', '–°–µ—Ä–µ–¥–∞', '14:00', '15:35'),
        
        ('–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –ª—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ü–µ—Ç—Ä–µ–Ω–∫–æ –ú.–Ü.', '105', '–ß–µ—Ç–≤–µ—Ä', '08:00', '09:35'),
        ('–§—ñ–∑–∏–∫–∞', '–í.–ê.', '301', '–ß–µ—Ç–≤–µ—Ä', '09:50', '11:25'),
        ('–ê–Ω–≥–ª—ñ–π—Å—å–∫–∞ –º–æ–≤–∞', 'Brown J.', '108', '–ß–µ—Ç–≤–µ—Ä', '11:40', '13:15'),
        ('–•—ñ–º—ñ—è', '–ö–æ–≤–∞–ª—å—á—É–∫ –ù.–í.', '302', '–ß–µ—Ç–≤–µ—Ä', '14:00', '15:35'),
        
        ('–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–Ü–≤–∞–Ω–æ–≤–∞ –û.–ü.', '201', '–ü\'—è—Ç–Ω–∏—Ü—è', '08:00', '09:35'),
        ('–Ü—Å—Ç–æ—Ä—ñ—è', '–ú–µ–ª—å–Ω–∏–∫ –¢.–°.', '203', '–ü\'—è—Ç–Ω–∏—Ü—è', '09:50', '11:25'),
        ('–¢—Ä—É–¥–æ–≤–µ –Ω–∞–≤—á–∞–Ω–Ω—è', '–ì—Ä–∏—Ü–µ–Ω–∫–æ –í.–ú.', '501', '–ü\'—è—Ç–Ω–∏—Ü—è', '11:40', '13:15'),
        ('–ö–ª–∞—Å–Ω–∞ –≥–æ–¥–∏–Ω–∞', '–ü–µ—Ç—Ä–µ–Ω–∫–æ –ú.–Ü.', '105', '–ü\'—è—Ç–Ω–∏—Ü—è', '14:00', '15:35'),
    ]
    
    print("\n–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–µ–º–æ —Ä–æ–∑–∫–ª–∞–¥—É...")
    for subject, teacher, classroom, day, time_start, time_end in demo_lessons:
        try:
            cursor.execute(
                'INSERT INTO lessons (subject, teacher, classroom, day_of_week, time_start, time_end, created_by) VALUES (?, ?, ?, ?, ?, ?, ?)',
                (subject, teacher, classroom, day, time_start, time_end, 1)  # —Å—Ç–≤–æ—Ä–µ–Ω–æ –∞–¥–º—ñ–Ω–æ–º
            )
            print(f"‚úì –î–æ–¥–∞–Ω–æ —É—Ä–æ–∫: {subject} ({day}, {time_start})")
        except sqlite3.IntegrityError:
            print(f"‚ö† –£—Ä–æ–∫ {subject} –≤ {day} –æ {time_start} –≤–∂–µ —ñ—Å–Ω—É—î")
    
    demo_tasks = [
        ('–†–æ–∑–≤\'—è–∑–∞—Ç–∏ —Ä—ñ–≤–Ω—è–Ω–Ω—è 15-20', '–°—Ç–æ—Ä—ñ–Ω–∫–∞ 45, –∑–∞–≤–¥–∞–Ω–Ω—è 15-20', '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '2025-08-10'),
        ('–¢–≤—ñ—Ä –ø—Ä–æ –ª—ñ—Ç–æ', '–ù–∞–ø–∏—Å–∞—Ç–∏ —Ç–≤—ñ—Ä –Ω–∞ —Ç–µ–º—É "–ú–æ—ó –ª—ñ—Ç–Ω—ñ –∫–∞–Ω—ñ–∫—É–ª–∏" (200-300 —Å–ª—ñ–≤)', '–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º–æ–≤–∞', '2025-08-12'),
        ('–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ ‚Ññ3', '–î–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è –∫–æ–ª–∏–≤–∞–Ω—å –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–æ–≥–æ –º–∞—è—Ç–Ω–∏–∫–∞', '–§—ñ–∑–∏–∫–∞', '2025-08-15'),
        ('–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—è –ø—Ä–æ –∫—Ä–∞—ó–Ω—É', '–ü—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—é –ø—Ä–æ –∞–Ω–≥–ª–æ–º–æ–≤–Ω—É –∫—Ä–∞—ó–Ω—É (10 —Å–ª–∞–π–¥—ñ–≤)', '–ê–Ω–≥–ª—ñ–π—Å—å–∫–∞ –º–æ–≤–∞', '2025-08-18'),
        ('–í–∏–≤—á–∏—Ç–∏ —Ç–∞–±–ª–∏—Ü—é –ú–µ–Ω–¥–µ–ª—î—î–≤–∞', '–í–∏–≤—á–∏—Ç–∏ –ø–µ—Ä—à—ñ 20 –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ —Ç–∞–±–ª–∏—Ü—ñ –ú–µ–Ω–¥–µ–ª—î—î–≤–∞', '–•—ñ–º—ñ—è', '2025-08-14'),
        ('–†–µ—Ñ–µ—Ä–∞—Ç –ø—Ä–æ –î—Ä—É–≥—É —Å–≤—ñ—Ç–æ–≤—É –≤—ñ–π–Ω—É', '–ù–∞–ø–∏—Å–∞—Ç–∏ —Ä–µ—Ñ–µ—Ä–∞—Ç –ø—Ä–æ –ø—Ä–∏—á–∏–Ω–∏ —ñ –Ω–∞—Å–ª—ñ–¥–∫–∏ –î—Ä—É–≥–æ—ó —Å–≤—ñ—Ç–æ–≤–æ—ó –≤—ñ–π–Ω–∏', '–Ü—Å—Ç–æ—Ä—ñ—è', '2025-08-20'),
        ('–ö–∞—Ä—Ç–∞ –£–∫—Ä–∞—ó–Ω–∏', '–ü–æ–∑–Ω–∞—á–∏—Ç–∏ –Ω–∞ –∫–æ–Ω—Ç—É—Ä–Ω—ñ–π –∫–∞—Ä—Ç—ñ –≤—Å—ñ –æ–±–ª–∞—Å–Ω—ñ —Ü–µ–Ω—Ç—Ä–∏ –£–∫—Ä–∞—ó–Ω–∏', '–ì–µ–æ–≥—Ä–∞—Ñ—ñ—è', '2025-08-16'),
        ('–ü—Ä–æ–≥—Ä–∞–º–∞ "–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä"', '–ù–∞–ø–∏—Å–∞—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º—É –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –Ω–∞ Python', '–Ü–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞', '2025-08-25'),
    ]
    
    print("\n–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–µ–º–æ –∑–∞–≤–¥–∞–Ω—å...")
    for title, description, subject, due_date in demo_tasks:
        try:
            cursor.execute(
                'INSERT INTO tasks (title, description, subject, due_date, user_id) VALUES (?, ?, ?, ?, ?)',
                (title, description, subject, due_date, 4)
            )
            print(f"‚úì –î–æ–¥–∞–Ω–æ –∑–∞–≤–¥–∞–Ω–Ω—è: {title}")
        except sqlite3.IntegrityError:
            print(f"‚ö† –ó–∞–≤–¥–∞–Ω–Ω—è {title} –≤–∂–µ —ñ—Å–Ω—É—î")

    demo_test_results = [
        (4, '–ó–∞–≥–∞–ª—å–Ω–∏–π —Ç–µ—Å—Ç –∑–Ω–∞–Ω—å', 8, 10),
        (5, '–ó–∞–≥–∞–ª—å–Ω–∏–π —Ç–µ—Å—Ç –∑–Ω–∞–Ω—å', 7, 10),
        (4, '–¢–µ—Å—Ç –∑ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏', 9, 10),
        (5, '–¢–µ—Å—Ç –∑ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏', 6, 10),
        (4, '–¢–µ—Å—Ç –∑ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó –º–æ–≤–∏', 10, 10),
    ]
    
    print("\n–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–µ–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ —Ç–µ—Å—Ç—ñ–≤...")
    for user_id, test_name, score, total in demo_test_results:
        try:
            cursor.execute(
                'INSERT INTO test_results (user_id, test_name, score, total_questions) VALUES (?, ?, ?, ?)',
                (user_id, test_name, score, total)
            )
            print(f"‚úì –î–æ–¥–∞–Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç—É: {test_name} - {score}/{total}")
        except sqlite3.IntegrityError:
            print(f"‚ö† –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç—É –≤–∂–µ —ñ—Å–Ω—É—î")
    
    conn.commit()
    conn.close()
    
    print("\nüéâ –î–µ–º–æ –¥–∞–Ω—ñ —É—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω—ñ!")
    print("\n–î–µ–º–æ –∞–∫–∞—É–Ω—Ç–∏ –¥–ª—è –≤—Ö–æ–¥—É:")
    print("‚îú‚îÄ‚îÄ –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä: admin / admin123")
    print("‚îú‚îÄ‚îÄ –í—á–∏—Ç–µ–ª—å: teacher / teacher123")
    print("‚îú‚îÄ‚îÄ –£—á–µ–Ω—å: student / student123")
    print("‚îú‚îÄ‚îÄ –Ü–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤: ivan_petrov / password123")
    print("‚îî‚îÄ‚îÄ –ú–∞—Ä—ñ—è –ö–æ–≤–∞–ª–µ–Ω–∫–æ: maria_kovalenko / password123")

if __name__ == '__main__':
    create_demo_data()
