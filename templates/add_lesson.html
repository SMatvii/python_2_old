{% extends "base.html" %}

{% block title %}–î–æ–¥–∞—Ç–∏ —É—Ä–æ–∫ - –®–∫—ñ–ª—å–Ω–∏–π —Ä–æ–∑–∫–ª–∞–¥{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header">
                <h3>‚ûï –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π —É—Ä–æ–∫</h3>
            </div>
            <div class="card-body">
                <form method="POST" id="addLessonForm">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="subject" class="form-label">–ü—Ä–µ–¥–º–µ—Ç</label>
                                <select class="form-select" id="subject" name="subject" required>
                                    <option value="">–û–±–µ—Ä—ñ—Ç—å –ø—Ä–µ–¥–º–µ—Ç</option>
                                    <option value="–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞">üìê –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</option>
                                    <option value="–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º–æ–≤–∞">üìù –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º–æ–≤–∞</option>
                                    <option value="–ê–Ω–≥–ª—ñ–π—Å—å–∫–∞ –º–æ–≤–∞">üåç –ê–Ω–≥–ª—ñ–π—Å—å–∫–∞ –º–æ–≤–∞</option>
                                    <option value="–§—ñ–∑–∏–∫–∞">‚ö° –§—ñ–∑–∏–∫–∞</option>
                                    <option value="–•—ñ–º—ñ—è">üß™ –•—ñ–º—ñ—è</option>
                                    <option value="–ë—ñ–æ–ª–æ–≥—ñ—è">üå± –ë—ñ–æ–ª–æ–≥—ñ—è</option>
                                    <option value="–ì–µ–æ–≥—Ä–∞—Ñ—ñ—è">üåç –ì–µ–æ–≥—Ä–∞—Ñ—ñ—è</option>
                                    <option value="–Ü—Å—Ç–æ—Ä—ñ—è">üìö –Ü—Å—Ç–æ—Ä—ñ—è</option>
                                    <option value="–Ü–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞">üíª –Ü–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞</option>
                                    <option value="–§—ñ–∑–∫—É–ª—å—Ç—É—Ä–∞">üèÉ –§—ñ–∑–∫—É–ª—å—Ç—É—Ä–∞</option>
                                    <option value="–ú–∏—Å—Ç–µ—Ü—Ç–≤–æ">üé® –ú–∏—Å—Ç–µ—Ü—Ç–≤–æ</option>
                                    <option value="–ú—É–∑–∏–∫–∞">üéµ –ú—É–∑–∏–∫–∞</option>
                                    <option value="–¢—Ä—É–¥–æ–≤–µ –Ω–∞–≤—á–∞–Ω–Ω—è">üî® –¢—Ä—É–¥–æ–≤–µ –Ω–∞–≤—á–∞–Ω–Ω—è</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="teacher" class="form-label">–í—á–∏—Ç–µ–ª—å</label>
                                <input type="text" class="form-control" id="teacher" name="teacher" 
                                       placeholder="–ü—Ä—ñ–∑–≤–∏—â–µ —Ç–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª–∏" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="classroom" class="form-label">–ö–∞–±—ñ–Ω–µ—Ç</label>
                                <input type="text" class="form-control" id="classroom" name="classroom" 
                                       placeholder="–ù–æ–º–µ—Ä –∫–∞–±—ñ–Ω–µ—Ç—É" required>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="day_of_week" class="form-label">–î–µ–Ω—å —Ç–∏–∂–Ω—è</label>
                                <select class="form-select" id="day_of_week" name="day_of_week" required>
                                    <option value="">–û–±–µ—Ä—ñ—Ç—å –¥–µ–Ω—å</option>
                                    <option value="–ü–æ–Ω–µ–¥—ñ–ª–æ–∫">–ü–æ–Ω–µ–¥—ñ–ª–æ–∫</option>
                                    <option value="–í—ñ–≤—Ç–æ—Ä–æ–∫">–í—ñ–≤—Ç–æ—Ä–æ–∫</option>
                                    <option value="–°–µ—Ä–µ–¥–∞">–°–µ—Ä–µ–¥–∞</option>
                                    <option value="–ß–µ—Ç–≤–µ—Ä">–ß–µ—Ç–≤–µ—Ä</option>
                                    <option value="–ü'—è—Ç–Ω–∏—Ü—è">–ü'—è—Ç–Ω–∏—Ü—è</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="time_start" class="form-label">–ß–∞—Å –ø–æ—á–∞—Ç–∫—É</label>
                                <select class="form-select" id="time_start" name="time_start" required>
                                    <option value="">–û–±–µ—Ä—ñ—Ç—å —á–∞—Å</option>
                                    <option value="08:00">08:00 (1-–∞ –ø–∞—Ä–∞)</option>
                                    <option value="09:50">09:50 (2-–∞ –ø–∞—Ä–∞)</option>
                                    <option value="11:40">11:40 (3-—è –ø–∞—Ä–∞)</option>
                                    <option value="14:00">14:00 (4-–∞ –ø–∞—Ä–∞)</option>
                                    <option value="15:50">15:50 (5-–∞ –ø–∞—Ä–∞)</option>
                                    <option value="17:40">17:40 (6-–∞ –ø–∞—Ä–∞)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="time_end" class="form-label">–ß–∞—Å –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è</label>
                                <select class="form-select" id="time_end" name="time_end" required>
                                    <option value="">–û–±–µ—Ä—ñ—Ç—å —á–∞—Å</option>
                                    <option value="09:35">09:35 (1-–∞ –ø–∞—Ä–∞)</option>
                                    <option value="11:25">11:25 (2-–∞ –ø–∞—Ä–∞)</option>
                                    <option value="13:15">13:15 (3-—è –ø–∞—Ä–∞)</option>
                                    <option value="15:35">15:35 (4-–∞ –ø–∞—Ä–∞)</option>
                                    <option value="17:25">17:25 (5-–∞ –ø–∞—Ä–∞)</option>
                                    <option value="19:15">19:15 (6-–∞ –ø–∞—Ä–∞)</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="d-flex justify-content-between">
                        <a href="{{ url_for('schedule') }}" class="btn btn-secondary">
                            ‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –¥–æ —Ä–æ–∑–∫–ª–∞–¥—É
                        </a>
                        <button type="submit" class="btn btn-success">
                            ‚ûï –î–æ–¥–∞—Ç–∏ —É—Ä–æ–∫
                        </button>
                    </div>
                </form>
            </div>
        </div>
        
        <div class="card mt-4">
            <div class="card-header">
                <h5>‚ÑπÔ∏è –î–æ–≤—ñ–¥–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6>–†–æ–∑–∫–ª–∞–¥ –¥–∑–≤—ñ–Ω–∫—ñ–≤:</h6>
                        <ul class="list-unstyled">
                            <li><strong>1-–∞ –ø–∞—Ä–∞:</strong> 08:00 - 09:35</li>
                            <li><strong>2-–∞ –ø–∞—Ä–∞:</strong> 09:50 - 11:25</li>
                            <li><strong>3-—è –ø–∞—Ä–∞:</strong> 11:40 - 13:15</li>
                            <li><strong>4-–∞ –ø–∞—Ä–∞:</strong> 14:00 - 15:35</li>
                            <li><strong>5-–∞ –ø–∞—Ä–∞:</strong> 15:50 - 17:25</li>
                            <li><strong>6-–∞ –ø–∞—Ä–∞:</strong> 17:40 - 19:15</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h6>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:</h6>
                        <ul>
                            <li>–ü–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –≤—ñ–ª—å–Ω–æ–≥–æ –∫–∞–±—ñ–Ω–µ—Ç—É</li>
                            <li>–í—Ä–∞—Ö–æ–≤—É–π—Ç–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤—á–∏—Ç–µ–ª—è</li>
                            <li>–î–æ—Ç—Ä–∏–º—É–π—Ç–µ—Å—å —Å–∞–Ω—ñ—Ç–∞—Ä–Ω–∏—Ö –Ω–æ—Ä–º</li>
                            <li>–ü–ª–∞–Ω—É–π—Ç–µ –ø–µ—Ä–µ—Ä–≤–∏ –º—ñ–∂ –ø–∞—Ä–∞–º–∏</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
document.getElementById('time_start').addEventListener('change', function() {
    const timeEnd = document.getElementById('time_end');
    const timeMap = {
        '08:00': '09:35',
        '09:50': '11:25', 
        '11:40': '13:15',
        '14:00': '15:35',
        '15:50': '17:25',
        '17:40': '19:15'
    };
    
    if (timeMap[this.value]) {
        timeEnd.value = timeMap[this.value];
    }
});

document.getElementById('addLessonForm').addEventListener('submit', function(e) {
    const subject = document.getElementById('subject').value;
    const teacher = document.getElementById('teacher').value;
    const classroom = document.getElementById('classroom').value;
    const dayOfWeek = document.getElementById('day_of_week').value;
    const timeStart = document.getElementById('time_start').value;
    const timeEnd = document.getElementById('time_end').value;
    
    if (!subject || !teacher || !classroom || !dayOfWeek || !timeStart || !timeEnd) {
        e.preventDefault();
        alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è');
        return;
    }
    
    if (teacher.length < 2) {
        e.preventDefault();
        alert('–í–≤–µ–¥—ñ—Ç—å –ø–æ–≤–Ω–µ —ñ–º\'—è –≤—á–∏—Ç–µ–ª—è');
        return;
    }
});
</script>
{% endblock %}
